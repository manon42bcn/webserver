<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WebServer: WsResponseHandler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WebServer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle"><div class="title">WsResponseHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Base class for handling HTTP responses in a web server.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/dad/_web_server_response_handler_8hpp_source.html">WebServerResponseHandler.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for WsResponseHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d1/d50/class_ws_response_handler.png" usemap="#WsResponseHandler_map" alt=""/>
  <map id="WsResponseHandler_map" name="WsResponseHandler_map">
<area href="../../dc/d06/class_http_auto_index.html" title="The HttpAutoIndex class handles the generation of an automatic index for a directory listing." alt="HttpAutoIndex" shape="rect" coords="0,56,134,80"/>
<area href="../../d3/d49/class_http_c_g_i_handler.html" title="Handles HTTP requests that require CGI script execution." alt="HttpCGIHandler" shape="rect" coords="144,56,278,80"/>
<area href="../../d2/d52/class_http_multipart_handler.html" title="Manages HTTP requests with multipart form data for processing and validation." alt="HttpMultipartHandler" shape="rect" coords="288,56,422,80"/>
<area href="../../d3/de8/class_http_range_handler.html" title="Manages HTTP requests that include range-specific content, such as partial file downloads." alt="HttpRangeHandler" shape="rect" coords="432,56,566,80"/>
<area href="../../d0/dea/class_http_response_handler.html" title="Manages HTTP responses, with support for caching static file content." alt="HttpResponseHandler" shape="rect" coords="576,56,710,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3cd12128a8690f0dfa0d4e5c8619b995" id="r_a3cd12128a8690f0dfa0d4e5c8619b995"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3cd12128a8690f0dfa0d4e5c8619b995">WsResponseHandler</a> (const <a class="el" href="../../d1/dee/struct_location_config.html">LocationConfig</a> *location, const <a class="el" href="../../d3/d42/class_logger.html">Logger</a> *log, <a class="el" href="../../d5/daf/class_client_data.html">ClientData</a> *client_data, <a class="el" href="../../dc/dbd/structs__request.html">s_request</a> &amp;request, int fd)</td></tr>
<tr class="memdesc:a3cd12128a8690f0dfa0d4e5c8619b995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <code><a class="el" href="../../d1/d50/class_ws_response_handler.html" title="Base class for handling HTTP responses in a web server.">WsResponseHandler</a></code> to manage web server responses.  <br /></td></tr>
<tr class="separator:a3cd12128a8690f0dfa0d4e5c8619b995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8baab27d8124fd3ec88dc9727b280ac7" id="r_a8baab27d8124fd3ec88dc9727b280ac7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8baab27d8124fd3ec88dc9727b280ac7">~WsResponseHandler</a> ()</td></tr>
<tr class="memdesc:a8baab27d8124fd3ec88dc9727b280ac7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the <code><a class="el" href="../../d1/d50/class_ws_response_handler.html" title="Base class for handling HTTP responses in a web server.">WsResponseHandler</a></code> class.  <br /></td></tr>
<tr class="separator:a8baab27d8124fd3ec88dc9727b280ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac424b9087f15dc526de36c473dd0b99b" id="r_ac424b9087f15dc526de36c473dd0b99b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac424b9087f15dc526de36c473dd0b99b">handle_request</a> ()</td></tr>
<tr class="memdesc:ac424b9087f15dc526de36c473dd0b99b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the incoming HTTP request based on the request method.  <br /></td></tr>
<tr class="separator:ac424b9087f15dc526de36c473dd0b99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeedbeb84a4e00fcbf33c1864d7c6a15" id="r_abeedbeb84a4e00fcbf33c1864d7c6a15"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abeedbeb84a4e00fcbf33c1864d7c6a15">send_error_response</a> ()</td></tr>
<tr class="memdesc:abeedbeb84a4e00fcbf33c1864d7c6a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an HTTP error response to the client, using a custom error page if available.  <br /></td></tr>
<tr class="separator:abeedbeb84a4e00fcbf33c1864d7c6a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c8694f89236b819db3906a1e2f1872" id="r_ac8c8694f89236b819db3906a1e2f1872"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8c8694f89236b819db3906a1e2f1872">redirection</a> ()</td></tr>
<tr class="memdesc:ac8c8694f89236b819db3906a1e2f1872"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles HTTP redirection for the current request.  <br /></td></tr>
<tr class="separator:ac8c8694f89236b819db3906a1e2f1872"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aca126bfa03d064a8d94de7ab480b3733" id="r_aca126bfa03d064a8d94de7ab480b3733"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca126bfa03d064a8d94de7ab480b3733">handle_get</a> ()</td></tr>
<tr class="memdesc:aca126bfa03d064a8d94de7ab480b3733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles HTTP GET requests, validating access, resource data, and sending a response.  <br /></td></tr>
<tr class="separator:aca126bfa03d064a8d94de7ab480b3733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644b3ca7a7cec3dc191f182fb47cc68f" id="r_a644b3ca7a7cec3dc191f182fb47cc68f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a644b3ca7a7cec3dc191f182fb47cc68f">handle_post</a> ()</td></tr>
<tr class="memdesc:a644b3ca7a7cec3dc191f182fb47cc68f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles HTTP POST requests, validating access, saving data, and sending a response.  <br /></td></tr>
<tr class="separator:a644b3ca7a7cec3dc191f182fb47cc68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1d6f36fa589140b0feb50013295720" id="r_a1e1d6f36fa589140b0feb50013295720"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e1d6f36fa589140b0feb50013295720">handle_delete</a> ()</td></tr>
<tr class="memdesc:a1e1d6f36fa589140b0feb50013295720"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles HTTP DELETE requests by checking permissions and deleting the specified resource.  <br /></td></tr>
<tr class="separator:a1e1d6f36fa589140b0feb50013295720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa165d0cdad3ce51a5e1bd755b501277" id="r_aaa165d0cdad3ce51a5e1bd755b501277"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa165d0cdad3ce51a5e1bd755b501277">validate_payload</a> ()</td></tr>
<tr class="memdesc:aaa165d0cdad3ce51a5e1bd755b501277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates the payload of an HTTP request to ensure it meets requirements.  <br /></td></tr>
<tr class="separator:aaa165d0cdad3ce51a5e1bd755b501277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13110e781354f17e2628be2c9a5c89ae" id="r_a13110e781354f17e2628be2c9a5c89ae"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13110e781354f17e2628be2c9a5c89ae">get_file_content</a> (int pid, int(&amp;fd)[2])=0</td></tr>
<tr class="separator:a13110e781354f17e2628be2c9a5c89ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f538a7d770aecb593e27cbae11bebb" id="r_aa5f538a7d770aecb593e27cbae11bebb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5f538a7d770aecb593e27cbae11bebb">get_file_content</a> (std::string &amp;path)</td></tr>
<tr class="memdesc:aa5f538a7d770aecb593e27cbae11bebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the content of a file specified by the path.  <br /></td></tr>
<tr class="separator:aa5f538a7d770aecb593e27cbae11bebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a567d0413981e44eae8146cba69ae8a7a" id="r_a567d0413981e44eae8146cba69ae8a7a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a567d0413981e44eae8146cba69ae8a7a">save_file</a> (const std::string &amp;save_path, const std::string &amp;content)</td></tr>
<tr class="memdesc:a567d0413981e44eae8146cba69ae8a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the provided content to a specified file path.  <br /></td></tr>
<tr class="separator:a567d0413981e44eae8146cba69ae8a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6fa4b16b1bb217c5c76f84de70cd0b" id="r_a1f6fa4b16b1bb217c5c76f84de70cd0b"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f6fa4b16b1bb217c5c76f84de70cd0b">header</a> (int code, size_t content_size, std::string mime)</td></tr>
<tr class="memdesc:a1f6fa4b16b1bb217c5c76f84de70cd0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an HTTP response header based on provided parameters.  <br /></td></tr>
<tr class="separator:a1f6fa4b16b1bb217c5c76f84de70cd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c7496ce4287eb698166bbe52852cfa" id="r_ac1c7496ce4287eb698166bbe52852cfa"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1c7496ce4287eb698166bbe52852cfa">send_response</a> (const std::string &amp;body, const std::string &amp;path)</td></tr>
<tr class="memdesc:ac1c7496ce4287eb698166bbe52852cfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an HTTP response with the specified body content and inferred MIME type.  <br /></td></tr>
<tr class="separator:ac1c7496ce4287eb698166bbe52852cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01217e2efc87284c0642d2a4341fc26b" id="r_a01217e2efc87284c0642d2a4341fc26b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01217e2efc87284c0642d2a4341fc26b">sender</a> (const std::string &amp;body)</td></tr>
<tr class="memdesc:a01217e2efc87284c0642d2a4341fc26b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the HTTP response to the client through the socket file descriptor.  <br /></td></tr>
<tr class="separator:a01217e2efc87284c0642d2a4341fc26b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b93f248882a4eda90403c83321071a4" id="r_a1b93f248882a4eda90403c83321071a4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b93f248882a4eda90403c83321071a4">default_plain_error</a> ()</td></tr>
<tr class="memdesc:a1b93f248882a4eda90403c83321071a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a default HTML error page for the HTTP response.  <br /></td></tr>
<tr class="separator:a1b93f248882a4eda90403c83321071a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad11ac0e6036e8a641cfe74569c47314f" id="r_ad11ac0e6036e8a641cfe74569c47314f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad11ac0e6036e8a641cfe74569c47314f">turn_off_sanity</a> (<a class="el" href="../../da/d2b/http__enum__codes_8hpp.html#a991546140b16a555c1d90caffcb0e390">e_http_sts</a> status, std::string detail)</td></tr>
<tr class="memdesc:ad11ac0e6036e8a641cfe74569c47314f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables further request processing by marking the request as invalid.  <br /></td></tr>
<tr class="separator:ad11ac0e6036e8a641cfe74569c47314f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a85c6c1dda9c16243a5cb1cbe7d7981e8" id="r_a85c6c1dda9c16243a5cb1cbe7d7981e8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/dee/struct_location_config.html">LocationConfig</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85c6c1dda9c16243a5cb1cbe7d7981e8">_location</a></td></tr>
<tr class="separator:a85c6c1dda9c16243a5cb1cbe7d7981e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16c39c951b521fbb836260bfdd620b2" id="r_ad16c39c951b521fbb836260bfdd620b2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d3/d42/class_logger.html">Logger</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad16c39c951b521fbb836260bfdd620b2">_log</a></td></tr>
<tr class="separator:ad16c39c951b521fbb836260bfdd620b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10cfb3b580bd147399038a7a2431e9b" id="r_ab10cfb3b580bd147399038a7a2431e9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/daf/class_client_data.html">ClientData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab10cfb3b580bd147399038a7a2431e9b">_client_data</a></td></tr>
<tr class="separator:ab10cfb3b580bd147399038a7a2431e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394876bb9233128373d9aa1c2a6fb392" id="r_a394876bb9233128373d9aa1c2a6fb392"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/dbd/structs__request.html">s_request</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a394876bb9233128373d9aa1c2a6fb392">_request</a></td></tr>
<tr class="separator:a394876bb9233128373d9aa1c2a6fb392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ccf1b36d737f643651b8df1d207870" id="r_a67ccf1b36d737f643651b8df1d207870"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d06/structs__content.html">s_content</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67ccf1b36d737f643651b8df1d207870">_response_data</a></td></tr>
<tr class="separator:a67ccf1b36d737f643651b8df1d207870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89c7d5cc6459655f69f0f4db824757f" id="r_ad89c7d5cc6459655f69f0f4db824757f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad89c7d5cc6459655f69f0f4db824757f">_headers</a></td></tr>
<tr class="separator:ad89c7d5cc6459655f69f0f4db824757f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for handling HTTP responses in a web server. </p>
<p>The <code><a class="el" href="../../d1/d50/class_ws_response_handler.html" title="Base class for handling HTTP responses in a web server.">WsResponseHandler</a></code> class manages the processing of HTTP responses, supporting GET, POST, and DELETE operations. It handles file reading, content validation, response headers, error responses, and client interactions. Derived classes can implement additional logic, including specialized response handling such as for multipart or CGI responses. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3cd12128a8690f0dfa0d4e5c8619b995" name="a3cd12128a8690f0dfa0d4e5c8619b995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd12128a8690f0dfa0d4e5c8619b995">&#9670;&#160;</a></span>WsResponseHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WsResponseHandler::WsResponseHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/dee/struct_location_config.html">LocationConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>location</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d42/class_logger.html">Logger</a> *</td>          <td class="paramname"><span class="paramname"><em>log</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/daf/class_client_data.html">ClientData</a> *</td>          <td class="paramname"><span class="paramname"><em>client_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dbd/structs__request.html">s_request</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <code><a class="el" href="../../d1/d50/class_ws_response_handler.html" title="Base class for handling HTTP responses in a web server.">WsResponseHandler</a></code> to manage web server responses. </p>
<p>Initializes the <code><a class="el" href="../../d1/d50/class_ws_response_handler.html" title="Base class for handling HTTP responses in a web server.">WsResponseHandler</a></code> with essential components for handling server responses, including location configuration, logging, client data, request details, and the client's file descriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>Pointer to the <code><a class="el" href="../../d1/dee/struct_location_config.html" title="Represents the configuration for a specific location within a server.">LocationConfig</a></code> containing the location-specific configuration. </td></tr>
    <tr><td class="paramname">log</td><td>Pointer to the <code><a class="el" href="../../d3/d42/class_logger.html" title="A simple logging utility for managing log messages with different levels of severity.">Logger</a></code> instance for logging activities and errors. </td></tr>
    <tr><td class="paramname">client_data</td><td>Pointer to the <code><a class="el" href="../../d5/daf/class_client_data.html" title="Manages individual client connections in the web server, tracking their state and activity.">ClientData</a></code> object representing the client connection. </td></tr>
    <tr><td class="paramname">request</td><td>Reference to the <code><a class="el" href="../../dc/dbd/structs__request.html" title="Represents an HTTP request and its associated metadata.">s_request</a></code> structure with details about the client's request. </td></tr>
    <tr><td class="paramname">fd</td><td>File descriptor associated with the client connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../dd/df7/class_logger_1_1_no_logger_pointer.html" title="Exception thrown when a null pointer to a Logger is used.">Logger::NoLoggerPointer</a></td><td>if the <code>log</code> pointer is <code>NULL</code>, indicating that logging is required. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8baab27d8124fd3ec88dc9727b280ac7" name="a8baab27d8124fd3ec88dc9727b280ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8baab27d8124fd3ec88dc9727b280ac7">&#9670;&#160;</a></span>~WsResponseHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WsResponseHandler::~WsResponseHandler </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor for the <code><a class="el" href="../../d1/d50/class_ws_response_handler.html" title="Base class for handling HTTP responses in a web server.">WsResponseHandler</a></code> class. </p>
<p>Cleans up any resources held by the <code><a class="el" href="../../d1/d50/class_ws_response_handler.html" title="Base class for handling HTTP responses in a web server.">WsResponseHandler</a></code> instance. Abstract class does not need to free any resource. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1b93f248882a4eda90403c83321071a4" name="a1b93f248882a4eda90403c83321071a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b93f248882a4eda90403c83321071a4">&#9670;&#160;</a></span>default_plain_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string WsResponseHandler::default_plain_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates a default HTML error page for the HTTP response. </p>
<h1><a class="anchor" id="Error"></a>
responses</h1>
<p>This method constructs a basic HTML page with an error message that includes the HTTP status code and a brief description of the error. The error page is returned as a string and can be used as a fallback response in cases where more specific error content is unavailable.</p>
<dl class="section return"><dt>Returns</dt><dd>A <code>std::string</code> containing the default error page in HTML format. </dd></dl>

</div>
</div>
<a id="a13110e781354f17e2628be2c9a5c89ae" name="a13110e781354f17e2628be2c9a5c89ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13110e781354f17e2628be2c9a5c89ae">&#9670;&#160;</a></span>get_file_content() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void WsResponseHandler::get_file_content </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(&amp;)</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>[2]&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="../../d0/dea/class_http_response_handler.html#a90ad9e56b3260f3e1b6cd0fbc7dc44fb">HttpResponseHandler</a>.</p>

</div>
</div>
<a id="aa5f538a7d770aecb593e27cbae11bebb" name="aa5f538a7d770aecb593e27cbae11bebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f538a7d770aecb593e27cbae11bebb">&#9670;&#160;</a></span>get_file_content() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WsResponseHandler::get_file_content </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the content of a file specified by the path. </p>

<p>Reimplemented in <a class="el" href="../../d0/dea/class_http_response_handler.html#ab4032ef8152f75d17e3b6add8a86f025">HttpResponseHandler</a>.</p>

</div>
</div>
<a id="a1e1d6f36fa589140b0feb50013295720" name="a1e1d6f36fa589140b0feb50013295720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e1d6f36fa589140b0feb50013295720">&#9670;&#160;</a></span>handle_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::handle_delete </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles HTTP DELETE requests by checking permissions and deleting the specified resource. </p>
<p>This method processes DELETE requests by verifying that the client has sufficient permissions. If permissions are adequate, it checks the existence of the resource, deletes it, and sends a success response. If any step fails, an error response is sent to the client.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the resource is successfully deleted and a success response is sent; <code>false</code> if an error occurs, such as insufficient permissions, resource not found, or failure to delete the resource. </dd></dl>

</div>
</div>
<a id="aca126bfa03d064a8d94de7ab480b3733" name="aca126bfa03d064a8d94de7ab480b3733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca126bfa03d064a8d94de7ab480b3733">&#9670;&#160;</a></span>handle_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::handle_get </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles HTTP GET requests, validating access, resource data, and sending a response. </p>
<p>This method processes GET requests by checking if the client has read access to the location. If access is allowed, it get file content Upon successful validation, _response_data.content is sent to the client. If any step fails, an error response is sent to the client.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the GET request is successfully handled and the data is properly read; otherwise, <code>false</code> if an error occurs or access is denied. </dd></dl>

</div>
</div>
<a id="a644b3ca7a7cec3dc191f182fb47cc68f" name="a644b3ca7a7cec3dc191f182fb47cc68f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644b3ca7a7cec3dc191f182fb47cc68f">&#9670;&#160;</a></span>handle_post()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::handle_post </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles HTTP POST requests, validating access, saving data, and sending a response. </p>
<p>This method processes POST requests by checking if the client has write access to the location. If access is allowed, it validates the payload and resets the client timeout. Upon successful validation, the request body is saved to the specified path, and a success response is sent. If any step fails, an error response is sent to the client.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the POST request is successfully handled and the data is saved; otherwise, <code>false</code> if an error occurs or access is denied. </dd></dl>

</div>
</div>
<a id="ac424b9087f15dc526de36c473dd0b99b" name="ac424b9087f15dc526de36c473dd0b99b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac424b9087f15dc526de36c473dd0b99b">&#9670;&#160;</a></span>handle_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::handle_request </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the incoming HTTP request based on the request method. </p>

<p>Reimplemented in <a class="el" href="../../dc/d06/class_http_auto_index.html#ac86e61db08b2297750c609ff477ac864">HttpAutoIndex</a>, <a class="el" href="../../d3/d49/class_http_c_g_i_handler.html#ae0dbcacc259b7c0d4a3560661e1b3a59">HttpCGIHandler</a>, <a class="el" href="../../d2/d52/class_http_multipart_handler.html#a238c811869507cc202214d5e34c540d4">HttpMultipartHandler</a>, and <a class="el" href="../../d3/de8/class_http_range_handler.html#a9eb046811130668c9a85d7df2798187e">HttpRangeHandler</a>.</p>

</div>
</div>
<a id="a1f6fa4b16b1bb217c5c76f84de70cd0b" name="a1f6fa4b16b1bb217c5c76f84de70cd0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6fa4b16b1bb217c5c76f84de70cd0b">&#9670;&#160;</a></span>header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string WsResponseHandler::header </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>content_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>mime</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an HTTP response header based on provided parameters. </p>
<h1><a class="anchor" id="Response"></a>
Builders</h1>
<p>This method builds an HTTP response header string with status code, content length, content type, connection type, and range support, if applicable. The method supports connection keep-alive if the client is active and the request is valid (<code>sanity</code> is true). For ranged responses, the <code>Content-Range</code> and <code>Accept-Ranges</code> headers are included.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>HTTP status code for the response. </td></tr>
    <tr><td class="paramname">content_size</td><td>Size of the response content in bytes. </td></tr>
    <tr><td class="paramname">mime</td><td>MIME type of the response content. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A fully constructed HTTP response header as a <code>std::string</code>. </dd></dl>

</div>
</div>
<a id="ac8c8694f89236b819db3906a1e2f1872" name="ac8c8694f89236b819db3906a1e2f1872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c8694f89236b819db3906a1e2f1872">&#9670;&#160;</a></span>redirection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::redirection </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles HTTP redirection for the current request. </p>
<h1><a class="anchor" id="General"></a>
General</h1>
<p>This method generates an HTTP redirection response based on the redirection information available in the current location configuration (<code>_location-&gt;redirections</code>). It constructs an HTTP response header indicating the redirection status code and the new location URL, and sends it to the client.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the response was successfully sent, otherwise <code>false</code>.</dd></dl>
<p>The method follows these steps:</p><ol type="1">
<li><b>Redirection Configuration</b>:<ul>
<li>Retrieves the first redirection entry from <code>_location-&gt;redirections</code> by calling <code>begin()</code>.</li>
</ul>
</li>
<li><b>Generate Redirection Header</b>:<ul>
<li>Constructs an HTTP response header using a <code>std::ostringstream</code>.</li>
<li>Includes:<ul>
<li><b>HTTP Status Line</b>: Constructs the status line with the status code (<code>it-&gt;first</code>) and the corresponding reason phrase obtained from <code><a class="el" href="../../d8/dd6/general__helpers_8cpp.html#a411f70b0adb50fb351494b96143fb0ce" title="Get a standard message for a http code.">http_status_description()</a></code>.</li>
<li><b>Location Header</b>: Specifies the new location to which the client should be redirected (<code>it-&gt;second</code>).</li>
<li><b>Content-Length</b>: Set to <code>0</code>, indicating no body content.</li>
<li><b>Content-Type</b>: Set to <code>text/html</code> for compatibility, even though there is no body content.</li>
</ul>
</li>
</ul>
</li>
<li><b>Send Response</b>:<ul>
<li>Sets <code>_headers</code> to the constructed redirection header.</li>
<li>Calls <code><a class="el" href="#a01217e2efc87284c0642d2a4341fc26b" title="Sends the HTTP response to the client through the socket file descriptor.">sender()</a></code> to send the response to the client, passing an empty string as the body since there is no content.</li>
</ul>
</li>
</ol>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This method assumes that the redirection configuration (<code>_location-&gt;redirections</code>) is not empty. It uses <code>begin()</code> to access the first redirection entry. this is controlled before </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd>SocketHandler::mapping_redir() </dd></dl>

</div>
</div>
<a id="a567d0413981e44eae8146cba69ae8a7a" name="a567d0413981e44eae8146cba69ae8a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a567d0413981e44eae8146cba69ae8a7a">&#9670;&#160;</a></span>save_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::save_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>save_path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>content</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves the provided content to a specified file path. </p>
<p>This method attempts to save the given content to a file at the specified path. If the file already exists, an error response is set, as overwriting is not permitted. If the file does not exist, it is created, and the content is written to it. Any errors encountered during file operations will log an error, update the HTTP status, and mark the request as failed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">save_path</td><td>The path where the content should be saved. </td></tr>
    <tr><td class="paramname">content</td><td>The content to be written to the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the file is saved successfully; <code>false</code> if an error occurs. </dd></dl>

</div>
</div>
<a id="abeedbeb84a4e00fcbf33c1864d7c6a15" name="abeedbeb84a4e00fcbf33c1864d7c6a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeedbeb84a4e00fcbf33c1864d7c6a15">&#9670;&#160;</a></span>send_error_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::send_error_response </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an HTTP error response to the client, using a custom error page if available. </p>
<p>This method attempts to retrieve a custom error page based on the HTTP status code and location configuration. If a custom error page is defined, it loads and sends that page as the error response. If no custom page is available or an error occurs while loading it, a default error page is generated and sent. The response header is constructed according to the status code, content length, and MIME type.</p>
<p>If a location was not provided, a plain default text will be sent.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the error response is successfully sent; <code>false</code> if an error occurs. </dd></dl>

</div>
</div>
<a id="ac1c7496ce4287eb698166bbe52852cfa" name="ac1c7496ce4287eb698166bbe52852cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c7496ce4287eb698166bbe52852cfa">&#9670;&#160;</a></span>send_response()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::send_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>path</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends an HTTP response with the specified body content and inferred MIME type. </p>
<p>This method constructs and sends an HTTP response header and body to the client. The MIME type is determined based on the response data, or inferred from the file path if no MIME type is specified. The response header is created using the status code and content length, after which the full response is sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The body content of the response. </td></tr>
    <tr><td class="paramname">path</td><td>The file path used to infer the MIME type if not specified in the response data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the response is successfully sent; <code>false</code> if sending fails. </dd></dl>

</div>
</div>
<a id="a01217e2efc87284c0642d2a4341fc26b" name="a01217e2efc87284c0642d2a4341fc26b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01217e2efc87284c0642d2a4341fc26b">&#9670;&#160;</a></span>sender()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::sender </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends the HTTP response to the client through the socket file descriptor. </p>
<p>This function sends the complete response, including headers and body, to the client. It handles partial writes and ensures that all data is sent correctly by using a loop.</p>
<p>The flow of the function is as follows:</p><ol type="1">
<li>Concatenate the response headers and body into a single response string.</li>
<li>Attempt to send the response data using <code>send()</code>.</li>
<li>If <code>send()</code> returns <code>-1</code>, retry sending up to a predefined maximum number of times without checking <code>errno</code>.</li>
<li>Introduce a small delay between retries to avoid a busy-wait loop.</li>
<li>Accumulate the number of bytes successfully sent and continue until the entire response is sent.</li>
<li>If the response is sent successfully, log the details and return true. If it fails after maximum retries, return false.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The body content of the HTTP response to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the response is sent successfully, false otherwise. </dd></dl>

</div>
</div>
<a id="ad11ac0e6036e8a641cfe74569c47314f" name="ad11ac0e6036e8a641cfe74569c47314f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad11ac0e6036e8a641cfe74569c47314f">&#9670;&#160;</a></span>turn_off_sanity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WsResponseHandler::turn_off_sanity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d2b/http__enum__codes_8hpp.html#a991546140b16a555c1d90caffcb0e390">e_http_sts</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>detail</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disables further request processing by marking the request as invalid. </p>
<p>This method is used to set the request's <code>sanity</code> flag to <code>false</code>, indicating that the request should not continue being processed due to an error. It also sets the HTTP status code for the response, logs the provided error detail, and marks the response data status as invalid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The HTTP status code representing the error condition. </td></tr>
    <tr><td class="paramname">detail</td><td>A detailed message describing the reason for marking the request as invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa165d0cdad3ce51a5e1bd755b501277" name="aaa165d0cdad3ce51a5e1bd755b501277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa165d0cdad3ce51a5e1bd755b501277">&#9670;&#160;</a></span>validate_payload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WsResponseHandler::validate_payload </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates the payload of an HTTP request to ensure it meets requirements. </p>
<p>This method checks if the request payload satisfies necessary criteria for processing, specifically for POST requests. It verifies that the <code>Content-Length</code> and <code>Content-Type</code> headers are present, that the request body exists and matches the expected length, and that the file extension is not blacklisted. If any validation fails, the request is marked as invalid and an error response is prepared.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the payload is valid and ready for further processing; <code>false</code> otherwise. </dd></dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="ab10cfb3b580bd147399038a7a2431e9b" name="ab10cfb3b580bd147399038a7a2431e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10cfb3b580bd147399038a7a2431e9b">&#9670;&#160;</a></span>_client_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/daf/class_client_data.html">ClientData</a>* WsResponseHandler::_client_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad89c7d5cc6459655f69f0f4db824757f" name="ad89c7d5cc6459655f69f0f4db824757f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad89c7d5cc6459655f69f0f4db824757f">&#9670;&#160;</a></span>_headers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string WsResponseHandler::_headers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a85c6c1dda9c16243a5cb1cbe7d7981e8" name="a85c6c1dda9c16243a5cb1cbe7d7981e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c6c1dda9c16243a5cb1cbe7d7981e8">&#9670;&#160;</a></span>_location</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/dee/struct_location_config.html">LocationConfig</a>* WsResponseHandler::_location</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad16c39c951b521fbb836260bfdd620b2" name="ad16c39c951b521fbb836260bfdd620b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16c39c951b521fbb836260bfdd620b2">&#9670;&#160;</a></span>_log</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d3/d42/class_logger.html">Logger</a>* WsResponseHandler::_log</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a394876bb9233128373d9aa1c2a6fb392" name="a394876bb9233128373d9aa1c2a6fb392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a394876bb9233128373d9aa1c2a6fb392">&#9670;&#160;</a></span>_request</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dbd/structs__request.html">s_request</a>&amp; WsResponseHandler::_request</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a67ccf1b36d737f643651b8df1d207870" name="a67ccf1b36d737f643651b8df1d207870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67ccf1b36d737f643651b8df1d207870">&#9670;&#160;</a></span>_response_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d06/structs__content.html">s_content</a> WsResponseHandler::_response_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>websrv/inc/<a class="el" href="../../d6/dad/_web_server_response_handler_8hpp_source.html">WebServerResponseHandler.hpp</a></li>
<li>websrv/srcs/<a class="el" href="../../df/d5f/_web_server_response_handler_8cpp.html">WebServerResponseHandler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
