\doxysection{Http\+Multipart\+Handler Class Reference}
\hypertarget{class_http_multipart_handler}{}\label{class_http_multipart_handler}\index{HttpMultipartHandler@{HttpMultipartHandler}}


Manages HTTP requests with multipart form data for processing and validation.  




{\ttfamily \#include $<$Http\+Multipart\+Handler.\+hpp$>$}

Inheritance diagram for Http\+Multipart\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d2/d52/class_http_multipart_handler}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_http_multipart_handler_a19ba2ac751acb3d533fcc1a3ff1ae87f}{Http\+Multipart\+Handler}} (const \mbox{\hyperlink{struct_location_config}{Location\+Config}} \texorpdfstring{$\ast$}{*}location, const \mbox{\hyperlink{class_logger}{Logger}} \texorpdfstring{$\ast$}{*}log, \mbox{\hyperlink{class_client_data}{Client\+Data}} \texorpdfstring{$\ast$}{*}client\+\_\+data, \mbox{\hyperlink{structs__request}{s\+\_\+request}} \&request, int fd)
\begin{DoxyCompactList}\small\item\em Constructs an {\ttfamily \doxylink{class_http_multipart_handler}{Http\+Multipart\+Handler}} for handling multipart HTTP requests. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_http_multipart_handler_a238c811869507cc202214d5e34c540d4}{handle\+\_\+request}} ()
\begin{DoxyCompactList}\small\item\em Processes the HTTP request based on the method type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_ws_response_handler}{Ws\+Response\+Handler}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_ws_response_handler_a3cd12128a8690f0dfa0d4e5c8619b995}{Ws\+Response\+Handler}} (const \mbox{\hyperlink{struct_location_config}{Location\+Config}} \texorpdfstring{$\ast$}{*}location, const \mbox{\hyperlink{class_logger}{Logger}} \texorpdfstring{$\ast$}{*}log, \mbox{\hyperlink{class_client_data}{Client\+Data}} \texorpdfstring{$\ast$}{*}client\+\_\+data, \mbox{\hyperlink{structs__request}{s\+\_\+request}} \&request, int fd)
\begin{DoxyCompactList}\small\item\em Constructs a {\ttfamily \doxylink{class_ws_response_handler}{Ws\+Response\+Handler}} to manage web server responses. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{class_ws_response_handler_a8baab27d8124fd3ec88dc9727b280ac7}{\texorpdfstring{$\sim$}{\string~}\+Ws\+Response\+Handler}} ()
\begin{DoxyCompactList}\small\item\em Destructor for the {\ttfamily \doxylink{class_ws_response_handler}{Ws\+Response\+Handler}} class. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_ws_response_handler_abeedbeb84a4e00fcbf33c1864d7c6a15}{send\+\_\+error\+\_\+response}} ()
\begin{DoxyCompactList}\small\item\em Sends an HTTP error response to the client, using a custom error page if available. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_ws_response_handler_ac8c8694f89236b819db3906a1e2f1872}{redirection}} ()
\begin{DoxyCompactList}\small\item\em Handles HTTP redirection for the current request. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{class_ws_response_handler}{Ws\+Response\+Handler}}}
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{class_ws_response_handler_aca126bfa03d064a8d94de7ab480b3733}{handle\+\_\+get}} ()
\begin{DoxyCompactList}\small\item\em Handles HTTP GET requests, validating access, resource data, and sending a response. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_ws_response_handler_a1e1d6f36fa589140b0feb50013295720}{handle\+\_\+delete}} ()
\begin{DoxyCompactList}\small\item\em Handles HTTP DELETE requests by checking permissions and deleting the specified resource. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_ws_response_handler_aa5f538a7d770aecb593e27cbae11bebb}{get\+\_\+file\+\_\+content}} (std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Retrieves the content of a file specified by the path. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_ws_response_handler_a567d0413981e44eae8146cba69ae8a7a}{save\+\_\+file}} (const std\+::string \&save\+\_\+path, const std\+::string \&content)
\begin{DoxyCompactList}\small\item\em Saves the provided content to a specified file path. \end{DoxyCompactList}\item 
virtual std\+::string \mbox{\hyperlink{class_ws_response_handler_a1f6fa4b16b1bb217c5c76f84de70cd0b}{header}} (int code, size\+\_\+t content\+\_\+size, std\+::string mime)
\begin{DoxyCompactList}\small\item\em Constructs an HTTP response header based on provided parameters. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{class_ws_response_handler_ac1c7496ce4287eb698166bbe52852cfa}{send\+\_\+response}} (const std\+::string \&body, const std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Sends an HTTP response with the specified body content and inferred MIME type. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_ws_response_handler_a01217e2efc87284c0642d2a4341fc26b}{sender}} (const std\+::string \&body)
\begin{DoxyCompactList}\small\item\em Sends the HTTP response to the client through the socket file descriptor. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{class_ws_response_handler_a1b93f248882a4eda90403c83321071a4}{default\+\_\+plain\+\_\+error}} ()
\begin{DoxyCompactList}\small\item\em Generates a default HTML error page for the HTTP response. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_ws_response_handler_ad11ac0e6036e8a641cfe74569c47314f}{turn\+\_\+off\+\_\+sanity}} (\mbox{\hyperlink{http__enum__codes_8hpp_a991546140b16a555c1d90caffcb0e390}{e\+\_\+http\+\_\+sts}} status, std\+::string detail)
\begin{DoxyCompactList}\small\item\em Disables further request processing by marking the request as invalid. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_ws_response_handler}{Ws\+Response\+Handler}}}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{struct_location_config}{Location\+Config}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_ws_response_handler_a85c6c1dda9c16243a5cb1cbe7d7981e8}{\+\_\+location}}
\item 
const \mbox{\hyperlink{class_logger}{Logger}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_ws_response_handler_ad16c39c951b521fbb836260bfdd620b2}{\+\_\+log}}
\item 
\mbox{\hyperlink{class_client_data}{Client\+Data}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_ws_response_handler_ab10cfb3b580bd147399038a7a2431e9b}{\+\_\+client\+\_\+data}}
\item 
\mbox{\hyperlink{structs__request}{s\+\_\+request}} \& \mbox{\hyperlink{class_ws_response_handler_a394876bb9233128373d9aa1c2a6fb392}{\+\_\+request}}
\item 
\mbox{\hyperlink{structs__content}{s\+\_\+content}} \mbox{\hyperlink{class_ws_response_handler_a67ccf1b36d737f643651b8df1d207870}{\+\_\+response\+\_\+data}}
\item 
std\+::string \mbox{\hyperlink{class_ws_response_handler_ad89c7d5cc6459655f69f0f4db824757f}{\+\_\+headers}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages HTTP requests with multipart form data for processing and validation. 

{\ttfamily \doxylink{class_http_multipart_handler}{Http\+Multipart\+Handler}} extends {\ttfamily \doxylink{class_ws_response_handler}{Ws\+Response\+Handler}} to handle and process HTTP POST requests containing multipart form data. It validates the payload, manages file storage, and handles permission checks, making it suitable for handling complex form submissions and file uploads.\hypertarget{class_http_multipart_handler_autotoc_md2}{}\doxysubsubsubsection{\texorpdfstring{Primary Responsibilities}{Primary Responsibilities}}\label{class_http_multipart_handler_autotoc_md2}

\begin{DoxyItemize}
\item Parses and validates multipart form-\/data payloads.
\item Ensures secure handling of file uploads by checking permissions.
\item Saves valid files to the designated server directory.
\end{DoxyItemize}\hypertarget{class_http_multipart_handler_autotoc_md3}{}\doxysubsubsubsection{\texorpdfstring{Workflow}{Workflow}}\label{class_http_multipart_handler_autotoc_md3}

\begin{DoxyItemize}
\item {\ttfamily \doxylink{class_http_multipart_handler_a238c811869507cc202214d5e34c540d4}{handle\+\_\+request()}}\+: Entrypoint method
\item {\ttfamily handle\+\_\+post()}\+: Processes POST requests specifically for multipart form data.
\item {\ttfamily validate\+\_\+payload()}\+: Confirms that the request meets content-\/length, content-\/type, and payload requirements.
\item {\ttfamily parse\+\_\+multipart\+\_\+data()}\+: Splits and processes each multipart section, extracting headers and content. 
\end{DoxyItemize}

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_http_multipart_handler_a19ba2ac751acb3d533fcc1a3ff1ae87f}\index{HttpMultipartHandler@{HttpMultipartHandler}!HttpMultipartHandler@{HttpMultipartHandler}}
\index{HttpMultipartHandler@{HttpMultipartHandler}!HttpMultipartHandler@{HttpMultipartHandler}}
\doxysubsubsection{\texorpdfstring{HttpMultipartHandler()}{HttpMultipartHandler()}}
{\footnotesize\ttfamily \label{class_http_multipart_handler_a19ba2ac751acb3d533fcc1a3ff1ae87f} 
Http\+Multipart\+Handler\+::\+Http\+Multipart\+Handler (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_location_config}{Location\+Config}} \texorpdfstring{$\ast$}{*}}]{location}{, }\item[{const \mbox{\hyperlink{class_logger}{Logger}} \texorpdfstring{$\ast$}{*}}]{log}{, }\item[{\mbox{\hyperlink{class_client_data}{Client\+Data}} \texorpdfstring{$\ast$}{*}}]{client\+\_\+data}{, }\item[{\mbox{\hyperlink{structs__request}{s\+\_\+request}} \&}]{request}{, }\item[{int}]{fd}{}\end{DoxyParamCaption})}



Constructs an {\ttfamily \doxylink{class_http_multipart_handler}{Http\+Multipart\+Handler}} for handling multipart HTTP requests. 

Initializes the handler with the specified location configuration, logger, client data, and file descriptor. Logs the initialization process.


\begin{DoxyParams}{Parameters}
{\em location} & Pointer to the {\ttfamily \doxylink{struct_location_config}{Location\+Config}} object containing server configuration details. \\
\hline
{\em log} & Pointer to the {\ttfamily \doxylink{class_logger}{Logger}} instance for logging. \\
\hline
{\em client\+\_\+data} & Pointer to {\ttfamily \doxylink{class_client_data}{Client\+Data}} with details of the client connection. \\
\hline
{\em request} & Reference to {\ttfamily \doxylink{structs__request}{s\+\_\+request}} with the incoming request information. \\
\hline
{\em fd} & File descriptor associated with the client connection. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_http_multipart_handler_a238c811869507cc202214d5e34c540d4}\index{HttpMultipartHandler@{HttpMultipartHandler}!handle\_request@{handle\_request}}
\index{handle\_request@{handle\_request}!HttpMultipartHandler@{HttpMultipartHandler}}
\doxysubsubsection{\texorpdfstring{handle\_request()}{handle\_request()}}
{\footnotesize\ttfamily \label{class_http_multipart_handler_a238c811869507cc202214d5e34c540d4} 
bool Http\+Multipart\+Handler\+::handle\+\_\+request (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Processes the HTTP request based on the method type. 

This function validates the request method and if the method is {\ttfamily POST}, it forwards the request to the {\ttfamily handle\+\_\+post} method.

\begin{DoxyReturn}{Returns}
{\ttfamily true} if the request was successfully processed, {\ttfamily false} otherwise.
\end{DoxyReturn}

\begin{DoxyItemize}
\item {\bfseries{Supported Method}}\+: Only {\ttfamily POST} method is allowed; other methods will trigger an error response. 
\end{DoxyItemize}

Reimplemented from \mbox{\hyperlink{class_ws_response_handler_ac424b9087f15dc526de36c473dd0b99b}{Ws\+Response\+Handler}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
websrv/inc/\mbox{\hyperlink{_http_multipart_handler_8hpp}{Http\+Multipart\+Handler.\+hpp}}\item 
websrv/srcs/\mbox{\hyperlink{_http_multipart_handler_8cpp}{Http\+Multipart\+Handler.\+cpp}}\end{DoxyCompactItemize}
